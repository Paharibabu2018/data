<!-- Section 1: Choose Your Template -->
<section id="choose-template" class="mb-6 section-card">
    <h2 class="text-xl font-bold mb-4">1. Choose Your Template</h2>
    <select id="template-selection" class="input-field mb-4">
        <option value="" data-price="0">Select a Template</option>
        <option value="Template A" data-price="100">Template A ($100)</option>
        <option value="Template B" data-price="150">Template B ($150)</option>
        <option value="Template C" data-price="200">Template C ($200)</option>
    </select>
    <div id="selected-template" class="hidden">
        <p class="text-lg font-semibold">Selected Template: <span id="template-summary">None</span></p>
        <p class="text-lg font-semibold">Template Price: $<span id="template-price-summary">0</span></p>
    </div>
</section>

<script>
  const templateSelect = document.getElementById('template-selection');
  const selectedTemplateDiv = document.getElementById('selected-template');
  const templateSummary = document.getElementById('template-summary');
  const templatePriceSummary = document.getElementById('template-price-summary');

  // Function to get URL parameter
  function getParameterByName(name) {
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
  }

  // Function to set the selected template and price
  function setSelectedTemplate(templateName) {
    for (let i = 0; i < templateSelect.options.length; i++) {
      const option = templateSelect.options[i];
      if (option.value === templateName) {
        option.selected = true;
        const templatePrice = option.getAttribute('data-price');

        // Update the template summary and price
        templateSummary.textContent = templateName;
        templatePriceSummary.textContent = templatePrice;

        // Show the template summary div if a template is selected
        selectedTemplateDiv.classList.remove('hidden');
        return;
      }
    }
  }

  // Event listener for template selection change
  templateSelect.addEventListener('change', function () {
    const selectedOption = templateSelect.options[templateSelect.selectedIndex];
    const selectedTemplate = selectedOption.value;
    const templatePrice = selectedOption.getAttribute('data-price');

    // Update the template summary and price
    templateSummary.textContent = selectedTemplate || 'None';
    templatePriceSummary.textContent = templatePrice || '0';

    // Show the template summary div if a template is selected
    if (selectedTemplate) {
      selectedTemplateDiv.classList.remove('hidden');
    } else {
      selectedTemplateDiv.classList.add('hidden');
    }
  });

  // Set the template based on URL parameter
  const templateFromUrl = getParameterByName('template');
  if (templateFromUrl) {
    setSelectedTemplate(templateFromUrl);
  }
</script>
